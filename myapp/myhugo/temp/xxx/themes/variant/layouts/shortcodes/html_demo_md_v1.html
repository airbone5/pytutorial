
{{/*
 html_demo.html
 
fileExists é€™å€‹å‡½æ•¸åƒçš„æ˜¯contentsä¸‹é¢çš„è·¯å¾‘,ä¾‹å¦‚(/contents/web),å‰‡ 
web/javascript/part1basic/t3_DOM_mouse_event.files/ex_mouse1.html
å¦‚æœé€™æ¨£çš„è©±,å°±æ˜¯èªª,å¤§éƒ¨åˆ†æª”æ¡ˆç³»çµ±çš„ç›¸é—œå‡½æ•¸,éƒ½æ˜¯é è¨­contenté–‹é ­?
*/}}



{{/* $_hugo_config := `{ "version": 1 }` */}}
{{ $hideCode := default false (.Get "hideCode" )}}
{{ $hideResut := default false (.Get "hideResult" )}}
{{ $hideEdit := default false (.Get "hideEdit" )}}
{{ $filePath := .Get "filePath" }}
 
{{/* æŒ‡å®šçš„è·¯å¾‘ä¸å­˜åœ¨æ™‚,æ‰¾é è¨­è·¯å¾‘ */}}
{{ $tfn1 := path.Join .Page.File.Dir $filePath }}
{{ $tfn2 := path.Join .Page.File.Dir (printf "%s.files/%s" .Page.File.BaseFileName $filePath) }}


{{ $diskfn := cond (fileExists $tfn1) $tfn1 ( cond (fileExists $tfn2) $tfn2 "") }}
{{ $fn := cond (fileExists $tfn1) $filePath  (printf "./%s.files/%s" .Page.File.BaseFileName $filePath)  }}


{{ with $diskfn}}
{{ $syntax := path.Ext $fn }}

{{/* $id := now.UnixNano */}}  
{{ $id := delimit (shuffle (seq 1 9)) "" }}
<div class="demoContainer">
{{ if (not $hideCode)}}

  <div class="code-copy" id="{{$fn | urlize}}">
	
	<button class="btn-primary" onclick="expandsw(this,'{{$id}}')">å±•é–‹</button>   
	<a href= {{$fn}} target="_blank"> åŸå§‹ç¢¼({{ path.Base $fn }})</a>
	
	<pre id="{{$id}}" class="no-hugo-post"><code class="language-{{$syntax}}">{{- readFile $diskfn -}}</code></pre>
  </div>
{{ end }}  
 
{{ if (not $hideEdit)}}
  <button class="btn-primary" onclick="switchEdit(this)">ç·¨è¼¯</button> 
  <textarea class="switchable switchEdit" >  
  {{  readFile $diskfn }}    
  </textarea>
  <button class="btn-primary switchable switchEdit" onclick="execArea(this)">åŸ·è¡Œ</button><br/>
{{ end }}
{{/*
  <div contentEditable="true" class="switchable switchEdit">
    {{ readFile $fn   }}   
	{{ readFile $fn  | replaceRE "^(?:[\t ]*(?:\r?\n|\r))+" "" }}
  </div>	
*/}}  
{{ if (not $hideResut)}}
  <iframe class="Result" src={{ $fn}} style="min-height:150px;height:max-content;max-height:480px"> </iframe>
{{ end }}
</div>
{{ else }}
ğŸæ‰¾ä¸åˆ°æª”æ¡ˆ: {{$filePath}}
{{end}}